(function(e){function t(t){for(var a,r,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},i={app:0},o=[];function s(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-221cd114":"3123e799","chunk-34604518":"91b13c1e","chunk-5e1e2336":"701eb2ec"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-221cd114":1,"chunk-34604518":1,"chunk-5e1e2336":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="static/css/"+({}[e]||e)+"."+{"chunk-221cd114":"6ef4cdb7","chunk-34604518":"c4961963","chunk-5e1e2336":"be83ca98"}[e]+".css",i=c.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"0781":function(e,t,n){"use strict";n.r(t);var a=n("778c"),r=n.n(a),i=r.a.tabsBar,o=r.a.logo,s=r.a.layout,c=r.a.header,u=r.a.themeBar,l=JSON.parse(localStorage.getItem("vue-admin-beautiful-theme"))||"",d={tabsBar:l.tabsBar||i,logo:o,collapse:!1,layout:l.layout||s,header:l.header||c,device:"desktop",themeBar:u},f={collapse:function(e){return e.collapse},device:function(e){return e.device},header:function(e){return e.header},layout:function(e){return e.layout},logo:function(e){return e.logo},tabsBar:function(e){return e.tabsBar},themeBar:function(e){return e.themeBar}},m={changeLayout:function(e,t){t&&(e.layout=t)},changeHeader:function(e,t){t&&(e.header=t)},changeTabsBar:function(e,t){t&&(e.tabsBar=t)},changeCollapse:function(e){e.collapse=!e.collapse},foldSideBar:function(e){e.collapse=!0},openSideBar:function(e){e.collapse=!1},toggleDevice:function(e,t){e.device=t}},h={changeLayout:function(e,t){var n=e.commit;n("changeLayout",t)},changeHeader:function(e,t){var n=e.commit;n("changeHeader",t)},changeTabsBar:function(e,t){var n=e.commit;n("changeTabsBar",t)},changeCollapse:function(e){var t=e.commit;t("changeCollapse")},foldSideBar:function(e){var t=e.commit;t("foldSideBar")},openSideBar:function(e){var t=e.commit;t("openSideBar")},toggleDevice:function(e,t){var n=e.commit;n("toggleDevice",t)}};t["default"]={state:d,getters:f,mutations:m,actions:h}},"0804":function(e,t,n){"use strict";var a=n("d1e5"),r=n.n(a);r.a},"0a65":function(e,t,n){"use strict";var a=n("1881"),r=n.n(a);r.a},"0f9a":function(e,t,n){"use strict";n.r(t);n("96cf");var a=n("1da1"),r=n("a026"),i=n("c24f"),o=n("e9df"),s=n("a18c"),c=(n("778c"),{accessToken:Object(o["a"])(),username:"",avatar:"",permissions:[]}),u={accessToken:function(e){return e.accessToken},username:function(e){return e.username},avatar:function(e){return e.avatar},permissions:function(e){return e.permissions}},l={setAccessToken:function(e,t){e.accessToken=t,Object(o["c"])(t)},setUsername:function(e,t){e.username=t},setAvatar:function(e,t){e.avatar=t},setPermissions:function(e,t){e.permissions=t}},d={setPermissions:function(e,t){var n=e.commit;n("setPermissions",t)},login:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,o,s,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,Object(i["c"])(t);case 3:if(o=n.sent,s=o.accessToken,console.log(s+"==============="),!s){n.next=13;break}a("setAccessToken",s),c=(new Date).getHours(),u=c<8?"早上好":c<=11?"上午好":c<=13?"中午好":c<18?"下午好":"晚上好",r["default"].prototype.$baseNotify("欢迎登录","".concat(u,"！")),n.next=15;break;case 13:throw r["default"].prototype.$baseMessage("请检查您账号信息是否正确...","error"),"登陆失败";case 15:case"end":return n.stop()}}),n)})))()},getUserInfo:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,o,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.state,t.next=3,Object(i["b"])(a.accessToken);case 3:if(o=t.sent,s=o.permissions,c=o.username,u=o.avatar,console.log(s),console.log(c),console.log(u),!(s&&c&&Array.isArray(s))){t.next=17;break}return n("setPermissions",s),n("setUsername",c),n("setAvatar",u),t.abrupt("return",s);case 17:return r["default"].prototype.$baseMessage("后台返回用户信息格式异常","error"),t.abrupt("return",!1);case 19:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,Object(i["d"])(c.accessToken);case 3:return t.next=5,n("resetAccessToken");case 5:return t.next=7,Object(s["d"])();case 7:case"end":return t.stop()}}),t)})))()},resetAccessToken:function(e){var t=e.commit;t("setUsername",""),t("setPermissions",[]),t("setAccessToken",""),Object(o["b"])()}};t["default"]={state:c,getters:u,mutations:l,actions:d}},1881:function(e,t,n){},"1d0b":function(e,t,n){"use strict";var a=n("7cd1"),r=n("49f7"),i=(n("fda3"),n("2877")),o=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);t["default"]=o.exports},"1e74":function(e,t){var n={contentType:"application/json;charset=UTF-8",messageDuration:3e3,requestTimeout:1e4,successCode:[200,0],invalidCode:402,noPermissionCode:401};e.exports=n},3506:function(e,t,n){e.exports=n.p+"static/img/logoko.75648d8e.png"},"390e":function(e,t,n){"use strict";var a=n("8dd5"),r=n.n(a);r.a},"3dfa":function(e,t,n){"use strict";var a=n("8299"),r=n.n(a);r.a},4360:function(e,t,n){"use strict";n("4160"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("ddb0");var a=n("a026"),r=n("2f62");a["default"].use(r["a"]);var i=n("d307"),o={};i.keys().forEach((function(e){o[e.replace(/(\.\/|\.js)/g,"")]=i(e).default})),Object.keys(o).forEach((function(e){o[e]["namespaced"]=!0}));var s=new r["a"].Store({modules:o});t["a"]=s},"488d":function(e,t,n){"use strict";var a=n("f2f3"),r=n.n(a);r.a},"49f7":function(e,t,n){"use strict";var a=n("8975"),r=n.n(a);t["default"]=r.a},"54ff":function(e,t,n){"use strict";var a=n("a8a6"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=(n("034f"),n("2877")),s={},c=Object(o["a"])(s,r,i,!1,null,null,null),u=c.exports,l=n("4360"),d=n("a18c"),f=n("5c96"),m=n.n(f),h=(n("0fae"),n("c975"),n("5530")),p=(n("96cf"),n("1da1")),b=n("323e"),v=n.n(b),g=(n("a5d8"),n("99af"),n("778c"));function x(e){return e?"".concat(e,"-").concat(g["title"]):"".concat(g["title"])}v.a.configure({easing:"ease",speed:500,trickleSpeed:200,showSpinner:!1}),d["c"].beforeResolve(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(n.path+"----------------路由解析跳转之前---------------"+t.path),g["progressBar"]&&v.a.start(),r=l["a"].getters["user/accessToken"],g["loginInterception"]||(r=!0),!r){e.next=45;break}if(console.log("已登录"),"/login"!==t.path){e.next=11;break}a({path:"/"}),g["progressBar"]&&v.a.done(),e.next=43;break;case 11:if(i=l["a"].getters["user/permissions"]&&l["a"].getters["user/permissions"].length>0,!i){e.next=17;break}console.log("有权限，进入"),a(),e.next=43;break;case 17:if(console.log("没有权限"),e.prev=18,g["loginInterception"]){e.next=25;break}return e.next=22,l["a"].dispatch("user/setPermissions",["customer"]);case 22:o="customer",e.next=28;break;case 25:return e.next=27,l["a"].dispatch("user/getUserInfo");case 27:o=e.sent;case 28:return s=[],e.next=31,l["a"].dispatch("routes/setRoutes",o);case 31:s=e.sent,console.log("以获得permissions+++++"+o),d["c"].addRoutes(s),console.log(d["c"]),a(Object(h["a"])(Object(h["a"])({},t),{},{replace:!0})),e.next=43;break;case 38:return e.prev=38,e.t0=e["catch"](18),e.next=42,l["a"].dispatch("user/resetAccessToken");case 42:g["progressBar"]&&v.a.done();case 43:e.next=46;break;case 45:-1!==g["routesWhiteList"].indexOf(t.path)?a():(console.log("to.path++++++++++++++++"+t.path),g["recordRoute"]?"/manager"===t.path?a("/login?redirect=".concat(t.path,"&&type=manager")):a("/login?redirect=".concat(t.path,"&&type=customer")):a("/login"),g["progressBar"]&&v.a.done());case 46:document.title=x(t.meta.title);case 47:case"end":return e.stop()}}),e,null,[[18,38]])})));return function(t,n,a){return e.apply(this,arguments)}}()),d["c"].afterEach((function(){g["progressBar"]&&v.a.done()}));var k=n("2ef0"),w=n("e9df"),R=n("313e"),O=n.n(R),y=l["a"].getters["user/accessToken"],j=l["a"].getters["settings/layout"],C=function(e){e.prototype.$baseAccessToken=function(){return y||Object(w["a"])()},e.prototype.$baseTitle=function(){return g["title"]}(),e.prototype.$baseLoading=function(e,t){var n;return n=e?f["Loading"].service({lock:!0,text:t||g["loadingText"],spinner:"vab-loading-type"+e,background:"hsla(0,0%,100%,.8)"}):f["Loading"].service({lock:!0,text:t||g["loadingText"],background:"hsla(0,0%,100%,.8)"}),n},e.prototype.$baseColorfullLoading=function(e,t){var n;if(e){switch(e){case 1:e="dots";break;case 2:e="gauge";break;case 3:e="inner-circles";break;case 4:e="plus";break}n=f["Loading"].service({lock:!0,text:t||g["loadingText"],spinner:e+"-loader",background:"hsla(0,0%,100%,.8)"})}else n=f["Loading"].service({lock:!0,text:t||g["loadingText"],spinner:"dots-loader",background:"hsla(0,0%,100%,.8)"});return n},e.prototype.$baseMessage=function(e,t){Object(f["Message"])({offset:60,showClose:!0,message:e,type:t,dangerouslyUseHTMLString:!0,duration:g["messageDuration"]})},e.prototype.$baseAlert=function(e,t,n){f["MessageBox"].alert(e,t||"温馨提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(e){n&&n()}})},e.prototype.$baseConfirm=function(e,t,n,a){f["MessageBox"].confirm(e,t||"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"}).then((function(){n&&n()})).catch((function(){a&&a()}))},e.prototype.$baseNotify=function(e,t,n,a){Object(f["Notification"])({title:t,message:e,position:a||"top-right",type:n||"success",duration:g["messageDuration"]})},e.prototype.$baseTableHeight=function(e){var t=window.innerHeight,n=400,a=50;return"vertical"===j&&(n=340),"number"==typeof e?t=t-n-a*e:t-=n,t},e.prototype.$baseMap=function(){return new maptalks.Map("map",{center:[116.41348403785,39.910843952376],zoom:12,minZoom:1,maxZoom:19,spatialReference:{projection:"baidu"},attribution:{content:"&copy; vue-admin-beautiful"},baseLayer:new maptalks.TileLayer("base",{cssFilter:"sepia(100%) invert(90%)",urlTemplate:"http://online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1",subdomains:[0,1,2,3,4,5,6,7,8,9],attribution:'&copy; <a target="_blank" href="http://map.baidu.com">Baidu</a>'})})},e.prototype.$baseLodash=k,e.prototype.$isUpdate=!1,e.prototype.$baseEventBus=new e,e.prototype.$echarts=O.a};"undefined"!==typeof window&&window.Vue&&C(window.Vue);var _=C;a["default"].use(_),a["default"].use(m.a),a["default"].config.productionTip=!1,new a["default"]({router:d["c"],store:l["a"],render:function(e){return e(u)}}).$mount("#app")},"5c79":function(e,t,n){},"5fbe":function(e,t,n){e.exports=n.p+"static/img/logo2.e4ef68ce.png"},"61f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o}));n("d3b7"),n("25f0"),n("498a");function a(e){return/^(https?:|mailto:|tel:)/.test(e)}function r(e){return e.length>=6}function i(e){var t=/^[0-9]*$/;return t.test(e)}function o(e){var t=/^((1[3,5,8,7][0-9])|(14[5,7])|(17[0,5,6,7,8])|(19[7]))\d{8}$/;return t.test(e)}},6364:function(e,t,n){var a=n("fcaa"),r=n("1e74");e.exports={setting:a,network:r}},"66f7":function(e,t,n){"use strict";n.r(t);n("99af");var a=n("2909"),r=(n("96cf"),n("1da1")),i=n("a18c"),o=(n("4160"),n("caad"),n("45fc"),n("2532"),n("159b"),n("5530"));function s(e,t){return!t.meta||!t.meta.permissions||e.some((function(e){return t.meta.permissions.includes(e)}))}function c(e,t){var n=[];return e.forEach((function(e){var a=Object(o["a"])({},e);s(t,a)&&(a.children&&(a.children=c(a.children,t)),n.push(a))})),n}var u={routes:[],partialRoutes:[]},l={routes:function(e){return e.routes},partialRoutes:function(e){return e.partialRoutes}},d={setRoutes:function(e,t){e.routes=i["b"].concat(t)},setAllRoutes:function(e,t){e.routes=i["b"].concat(t)},setPartialRoutes:function(e,t){e.partialRoutes=i["b"].concat(t)}},f={setRoutes:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,c(Object(a["a"])(i["a"]),t);case 3:return o=n.sent,console.log("finallyAsyncRoutes"),r("setRoutes",o),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})))()},setPartialRoutes:function(e,t){var n=e.commit;return n("setPartialRoutes",t),t}};t["default"]={state:u,getters:l,mutations:d,actions:f}},7715:function(e,t,n){"use strict";var a=n("a592"),r=n.n(a);r.a},"778c":function(e,t,n){var a=n("6364"),r=a.setting,i=a.network,o=n("a078");e.exports=Object.assign({},r,i,o)},"7be1":function(e,t,n){"use strict";var a=n("e051"),r=n.n(a);r.a},"7cd1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"leftnav"},[n("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{overflow:"hidden",height:"975px"},attrs:{"default-active":e.activeMenu,"background-color":"#FFFFFF","text-color":"black","active-text-color":"#e65252",router:""}},[n("el-menu-item",{attrs:{index:"/customerCenter/index"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的主页")])]),n("el-menu-item",{attrs:{index:"/customerInfo/index"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("个人信息")])]),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",[e._v("我的订单")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/customerOrder/totalOrder"}},[e._v(" 全部订单 ")]),n("el-menu-item",{attrs:{index:"/customerOrder/finish"}},[e._v("已完成")]),n("el-menu-item",{attrs:{index:"/customerOrder/waitingPay"}},[e._v("待支付")]),n("el-menu-item",{attrs:{index:"/customerOrder/waitingEvaluation"}},[e._v(" 待评价 ")])],1)],2),n("el-menu-item",{attrs:{index:"/customerEvaluation/index"}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的评价")])])],1)],1)},r=[]},8299:function(e,t,n){},"85ec":function(e,t,n){},8975:function(e,t){e.exports={name:"leftnav",data:function(){return{NowPath:this.$route.path,i:0}},methods:{},computed:{activeMenu:function(){var e=this.$route,t=e.meta,n=e.path;return t.activeMenu?t.activeMenu:n}}}},"8dd5":function(e,t,n){},a078:function(e,t){var n={layout:"vertical"};e.exports=n},a18c:function(e,t,n){"use strict";n.d(t,"b",(function(){return Qe})),n.d(t,"a",(function(){return Xe})),n.d(t,"d",(function(){return nt}));n("d3b7");var a=n("a026"),r=n("8c4f"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TopNav-container"},[n("top-nav"),n("search"),n("div",{staticClass:"app-main"},[n("transition",{attrs:{mode:"out-in",name:"fade-transform"}},[n("router-view",{attrs:{name:"steps"}})],1),n("transition",{attrs:{mode:"out-in",name:"fade-transform"}},[n("router-view",{attrs:{name:"left"}})],1),n("transition",{attrs:{mode:"out-in",name:"fade-transform"}},[n("router-view")],1)],1),n("bottom")],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Search-container"},[a("div",{staticClass:"logosearch"},[a("div",{staticClass:"logosearchmain"},[a("div",{staticClass:"Search-logo"},[a("router-link",{attrs:{to:"/index"}},[a("el-image",{staticStyle:{width:"180px",height:"100px"},attrs:{src:n("3506"),fit:"contain"}})],1)],1),a("div",{staticClass:"search"},[a("div",{staticClass:"searchmain"},[a("el-input",{staticStyle:{width:"475px",float:"left","margin-bottom":"10px","border-radius":"10px 10px"},attrs:{id:"search-input",placeholder:"请输入关键词\t","prefix-icon":"el-icon-search",clearable:""},model:{value:e.inputMovie,callback:function(t){e.inputMovie=t},expression:"inputMovie"}}),a("el-button",{staticStyle:{position:"relative","background-color":"#e65252","margin-left":"-14px","z-index":"999",height:"38px","border-radius":"8px 10px 10px 8px","border-color":"#e65253"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.selectMovie}})],1)]),a("div",{staticClass:"connect"},[a("div",{staticClass:"connectmain"},[a("span",{staticClass:"el-icon-phone-outline"}),e._v(" 18103549919 "),a("router-link",{attrs:{to:"/agent/index"}},[a("span",{staticClass:"el-icon-help"}),e._v(" 在线客服 ")])],1)])])])])},c=[],u=(n("ac1f"),n("5319"),{name:"Search",data:function(){return{inputMovie:""}},computed:{},created:function(){},mounted:function(){},methods:{selectMovie:function(){this.$router.replace({path:"/movies/movieDetail",query:{movieName:this.inputMovie}}),this.inputMovie=""}}}),l=u,d=(n("cc7c"),n("2877")),f=Object(d["a"])(l,s,c,!1,null,null,null),m=f.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TopNav-container"},[n("div",{staticClass:"topNav"},[n("ul",{staticClass:"topLtNav"},[n("li",[n("router-link",{attrs:{to:"/index"}},[e._v("首页")])],1),this.accessToken?e._e():n("li",[n("router-link",{staticClass:"obviousText",attrs:{to:"/login"}},[e._v("请登录")])],1),this.accessToken?e._e():n("li",[n("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1)]),n("ul",{staticClass:"topRtNav"},[n("li",[e.identity("customer")?n("router-link",{attrs:{to:"/customerCenter"}},[e._v(" "+e._s(""!==this.username?this.username:"用户中心")+" ")]):e._e()],1),n("li",[e.identity("manager")?n("router-link",{attrs:{to:"/manager"}},[e._v(" 管理中心 ")]):e._e()],1),n("li",[e.identity("customer")?n("router-link",{attrs:{to:"/customerOrder/totalOrder"}},[e._v(" 订单 ")]):e._e()],1),n("li",[e.identity("customer")?n("router-link",{attrs:{to:"/customerEvaluation"}},[e._v(" 评价 ")]):e._e()],1),this.accessToken?n("li",[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("安全退出")])]):e._e()])])])},p=[],b=(n("c975"),n("96cf"),n("1da1")),v=n("5530"),g=n("2f62"),x=n("778c"),k={name:"TopNav",data:function(){return{}},computed:Object(v["a"])({},Object(g["c"])({username:"user/username",accessToken:"user/accessToken",permissions:"user/permissions"})),created:function(){},mounted:function(){},methods:{logout:function(){var e=this;this.$baseConfirm("您确定要退出吗?",null,Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:console.log(e.$route.path),-1===x["routesWhiteList"].indexOf(e.$route.path)&&(x["recordRoute"]?(n=e.$route.fullPath,e.$router.push("/login?redirect=".concat(n))):e.$router.push("/login"));case 4:case"end":return t.stop()}}),t)}))))},identity:function(e){return 0===this.permissions.length||("customer"===e?-1!==this.permissions.indexOf("customer"):-1!==this.permissions.indexOf("manager")||-1!==this.permissions.indexOf("boss"))}}},w=k,R=(n("c4f6"),Object(d["a"])(w,h,p,!1,null,null,null)),O=R.exports,y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Bottom"},[n("hr"),n("span",[e._v("天津理工大学2017级实训1班7组@毅购在线购票系统 2020")]),n("br"),n("span",[e._v("2972008809@qq.com")])])}],C={name:"Bottom",data:function(){return{}},methods:{},components:{}},_=C,$=(n("7715"),Object(d["a"])(_,y,j,!1,null,null,null)),T=$.exports,B={name:"NavSearch",components:{Search:m,TopNav:O,Bottom:T},data:function(){return{}},computed:{},created:function(){},mounted:function(){},methods:{}},S=B,P=(n("7be1"),Object(d["a"])(S,i,o,!1,null,null,null)),M=P.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-admin-beautiful-wrapper",class:e.classObj},["horizontal"===e.layout?n("div",{staticClass:"layout-container-horizontal",class:{fixed:"fixed"===e.header,"no-tabs-bar":"false"===e.tabsBar||!1===e.tabsBar}},[n("div",{class:"fixed"===e.header?"fixed-header":""},["true"===e.tabsBar||!0===e.tabsBar?n("div",{class:{"tag-view-show":e.tabsBar}},[n("div",{staticClass:"vab-main"},[n("tabs-bar")],1)]):e._e()]),n("div",{staticClass:"vab-main main-padding"},[n("app-main")],1)]):n("div",{staticClass:"layout-container-vertical",class:{fixed:"fixed"===e.header,"no-tabs-bar":"false"===e.tabsBar||!1===e.tabsBar}},["mobile"===e.device&&!1===e.collapse?n("div",{staticClass:"mask",on:{click:e.handleFoldSideBar}}):e._e(),n("side-bar"),n("div",{staticClass:"vab-main",class:e.collapse?"is-collapse-main":""},[n("div",{class:"fixed"===e.header?"fixed-header":""},[n("nav-bar"),"true"===e.tabsBar||!0===e.tabsBar?n("tabs-bar"):e._e()],1),n("app-main")],1)],1),n("el-backtop")],1)},L=[],A=(n("caad"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar-container"},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{xs:4,sm:12,md:12,lg:12,xl:12}},[n("div",{staticClass:"left-panel"},[n("i",{staticClass:"fold-unfold",class:e.collapse?"el-icon-s-unfold":"el-icon-s-fold",attrs:{title:e.collapse?"展开":"收起"},on:{click:e.handleCollapse}}),n("breadcrumb",{staticClass:"hidden-xs-only"})],1)]),n("el-col",{attrs:{xs:20,sm:12,md:12,lg:12,xl:12}},[n("div",{staticClass:"right-panel"},[n("Avatar")],1)])],1)],1)}),I=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{on:{command:e.handleCommand}},[n("span",{staticClass:"avatar-dropdown"},[n("img",{staticClass:"user-avatar",attrs:{src:"http://8.131.77.164:8089/CinemaData/img/manager.jpeg",alt:""}}),n("div",{staticClass:"user-name"},[e._v(" "+e._s(e.username)+" "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"personalCenter",divided:""}},[n("i",{staticClass:"el-icon-user"}),e._v(" 个人中心 ")]),n("el-dropdown-item",{attrs:{command:"logout",divided:""}},[n("i",{staticClass:"el-icon-switch-button"}),e._v(" 退出登录 ")])],1)],1)},V=[],D={name:"Avatar",computed:Object(v["a"])({},Object(g["c"])({avatar:"user/avatar",username:"user/username"})),methods:{handleCommand:function(e){switch(e){case"logout":this.logout();break;case"personalCenter":this.personalCenter();break}},personalCenter:function(){this.$router.push("/userManagement/personalInfo")},logout:function(){var e=this;this.$baseConfirm("您确定要退出"+this.$baseTitle+"吗?",null,Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:x["recordRoute"]?(n=e.$route.fullPath,e.$router.push("/login?redirect=".concat(n,"&&type=manager"))):e.$router.push("/login");case 3:case"end":return t.stop()}}),t)}))))}}},q=D,U=(n("f38d"),Object(d["a"])(q,N,V,!1,null,"1f86a3b8",null)),F=U.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-breadcrumb",{staticClass:"breadcrumb-container",attrs:{separator:">"}},e._l(e.list,(function(t){return n("el-breadcrumb-item",{key:t.path},[e._v(" "+e._s(t.meta.title)+" ")])})),1)},H=[],J=(n("4de4"),n("b0c0"),{name:"Breadcrumb",data:function(){return{list:this.getBreadcrumb()}},watch:{$route:function(){this.list=this.getBreadcrumb()}},methods:{getBreadcrumb:function(){return this.$route.matched.filter((function(e){return e.name&&e.meta.title}))}}}),W=J,G=(n("390e"),Object(d["a"])(W,z,H,!1,null,"f86d7ec6",null)),K=G.exports,Y={name:"NavBar",components:{Avatar:F,Breadcrumb:K},data:function(){return{pulse:!1}},computed:Object(v["a"])({},Object(g["c"])({collapse:"settings/collapse",visitedRoutes:"tabsBar/visitedRoutes",device:"settings/device",routes:"routes/routes"})),methods:Object(v["a"])(Object(v["a"])({},Object(g["b"])({changeCollapse:"settings/changeCollapse"})),{},{handleCollapse:function(){this.changeCollapse()},refreshRoute:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$baseEventBus.$emit("reload-routerview"),e.pulse=!0,setTimeout((function(){e.pulse=!1}),1e3);case 3:case"end":return t.stop()}}),t)})))()}})},Z=Y,Q=(n("0804"),Object(d["a"])(Z,A,I,!1,null,"066470c2",null)),X=Q.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.routerView?n("section",{staticClass:"app-main-container"},[n("transition",{attrs:{mode:"out-in",name:"fade-transform"}},[n("keep-alive",{attrs:{include:e.cachedRoutes,max:e.keepAliveMaxNum}},[n("router-view",{key:e.key,staticClass:"app-main-height"})],1)],1)],1):e._e()},te=[],ne=(n("4160"),n("159b"),{name:"AppMain",data:function(){return{show:!1,fullYear:(new Date).getFullYear(),copyright:x["copyright"],title:x["title"],keepAliveMaxNum:x["keepAliveMaxNum"],routerView:!0,footerCopyright:x["footerCopyright"]}},computed:Object(v["a"])(Object(v["a"])({},Object(g["c"])({visitedRoutes:"tabsBar/visitedRoutes",device:"settings/device"})),{},{cachedRoutes:function(){var e=[];return this.visitedRoutes.forEach((function(t){t.meta.noKeepAlive||e.push(t.name)})),e},key:function(){return this.$route.path}}),watch:{$route:{handler:function(e){"mobile"===this.device&&this.foldSideBar()},immediate:!0}},created:function(){var e=this;this.$baseEventBus.$on("reload-routerview",(function(){e.routerView=!1,e.$nextTick((function(){e.routerView=!0}))}))},mounted:function(){},methods:Object(v["a"])({},Object(g["b"])({foldSideBar:"settings/foldSideBar"}))}),ae=ne,re=(n("3dfa"),Object(d["a"])(ae,ee,te,!1,null,"8bc47a44",null)),ie=re.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-scrollbar",{staticClass:"side-bar-container",class:{"is-collapse":e.collapse}},[n("logo"),n("el-menu",{attrs:{"background-color":"rgb(40, 44, 52)","text-color":"hsla(0, 0%, 100%, 0.95)","active-text-color":"hsla(0, 0%, 100%, 0.95)","default-active":e.activeMenu,collapse:e.collapse,"collapse-transition":!1,"default-openeds":e.defaultOpens,"unique-opened":e.uniqueOpened,mode:"vertical"}},[e._l(e.routes,(function(e){return[n("side-bar-item",{key:e.path,attrs:{"full-path":e.path,item:e}})]}))],2)],1)},se=[],ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.hidden?e._e():n(e.menuComponent,{tag:"component",attrs:{item:e.item,"full-path":e.fullPath,"route-children":e.routeChildren}},[e.item.children&&e.item.children.length?e._l(e.item.children,(function(t){return n("side-bar-item",{key:t.path,attrs:{"full-path":e.handlePath(t.path),item:t}})})):e._e()],2)},ue=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-submenu",{ref:"subMenu",staticClass:"nav-el-sub",attrs:{index:e.handlePath(e.item.path),"popper-append-to-body":!1}},[n("template",{slot:"title"},[e.item.meta&&e.item.meta.icon?n("i",{class:e.item.meta.icon}):e._e(),n("span",[e._v(e._s(e.item.meta.title))])]),e._t("default")],2)},de=[],fe=n("61f7"),me=n("df7c"),he=n.n(me),pe={name:"Submenu",props:{routeChildren:{type:Object,default:function(){return null}},item:{type:Object,default:function(){return null}},fullPath:{type:String,default:""}},methods:{handlePath:function(e){return Object(fe["a"])(e)?e:Object(fe["a"])(this.fullPath)?this.fullPath:he.a.resolve(this.fullPath,e)}}},be=pe,ve=(n("0a65"),Object(d["a"])(be,le,de,!1,null,null,null)),ge=ve.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu-item",{attrs:{index:e.handlePath(e.routeChildren.path)},on:{click:e.handleLink}},[e.routeChildren.meta.icon?n("i",{class:e.routeChildren.meta.icon,staticStyle:{"padding-right":"3px"}}):e._e(),e.routeChildren.meta.icon?n("span",[e._v(e._s(e.routeChildren.meta.title))]):n("span",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.routeChildren.meta.title))]),e.routeChildren.meta&&e.routeChildren.meta.badge?n("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v(" "+e._s(e.routeChildren.meta.badge)+" ")]):e._e()],1)},ke=[],we={name:"MenuItem",props:{routeChildren:{type:Object,default:function(){return null}},item:{type:Object,default:function(){return null}},fullPath:{type:String,default:""}},methods:{handlePath:function(e){return Object(fe["a"])(e)?e:Object(fe["a"])(this.fullPath)?this.fullPath:he.a.resolve(this.fullPath,e)},handleLink:function(){var e=this.routeChildren.path,t=this.routeChildren.meta.target;if("_blank"===t){if(Object(fe["a"])(e))window.open(e);else if(Object(fe["a"])(this.fullPath))window.open(this.fullPath);else if(this.$route.path!==he.a.resolve(this.fullPath,e)){var n=this.$router.resolve(he.a.resolve(this.fullPath,e));window.open(n.href)}}else Object(fe["a"])(e)?window.location.href=e:Object(fe["a"])(this.fullPath)?window.location.href=this.fullPath:this.$route.path!==he.a.resolve(this.fullPath,e)&&this.$router.push(he.a.resolve(this.fullPath,e))}}},Re=we,Oe=Object(d["a"])(Re,xe,ke,!1,null,null,null),ye=Oe.exports,je={name:"SideBarItem",components:{Submenu:ge,MenuItem:ye},props:{item:{type:Object,required:!0},fullPath:{type:String,default:""}},data:function(){return this.onlyOneChild=null,{}},computed:{menuComponent:function(){return!this.handleChildren(this.item.children,this.item)||this.routeChildren.children&&!this.routeChildren.notShowChildren||this.item.alwaysShow?"Submenu":"MenuItem"}},methods:{handleChildren:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;null===t&&(t=[]);var a=t.filter((function(t){return!t.hidden&&(e.routeChildren=t,!0)}));return 1===a.length||0===a.length&&(this.routeChildren=Object(v["a"])(Object(v["a"])({},n),{},{path:"",notShowChildren:!0}),!0)},handlePath:function(e){return Object(fe["a"])(e)?e:Object(fe["a"])(this.fullPath)?this.fullPath:he.a.resolve(this.fullPath,e)}}},Ce=je,_e=(n("a20f"),Object(d["a"])(Ce,ce,ue,!1,null,"115d950a",null)),$e=_e.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-container"},[a("router-link",{attrs:{to:"/"}},[a("el-image",{staticStyle:{width:"180px",height:"90px","margin-left":"20px"},attrs:{src:n("5fbe"),fit:"contain"}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"})])],1)],1)},Be=[],Se={name:"Logo",data:function(){return{}},computed:{}},Pe=Se,Me=Object(d["a"])(Pe,Te,Be,!1,null,null,null),Ee=Me.exports,Le={name:"SideBar",components:{SideBarItem:$e,Logo:Ee},data:function(){return{uniqueOpened:x["uniqueOpened"]}},computed:Object(v["a"])(Object(v["a"])({},Object(g["c"])({collapse:"settings/collapse",routes:"routes/routes"})),{},{defaultOpens:function(){return this.collapse,x["defaultOopeneds"]},activeMenu:function(){var e=this.$route,t=e.meta,n=e.path;return t.activeMenu?t.activeMenu:n}})},Ae=Le,Ie=(n("e754"),Object(d["a"])(Ae,oe,se,!1,null,"217b8b2f",null)),Ne=Ie.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabs-bar-container",attrs:{id:"tabs-bar-container"}},[n("el-tabs",{staticClass:"tabs-content",attrs:{type:"card"},on:{"tab-click":e.handleTabClick,"tab-remove":e.handleTabRemove},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},e._l(e.visitedRoutes,(function(t){return n("el-tab-pane",{key:t.path,attrs:{label:t.meta.title,name:t.path,closable:!e.isAffix(t)}})})),1),n("el-dropdown",{on:{command:e.handleCommand}},[n("span",{staticStyle:{cursor:"pointer"}},[e._v(" 更多操作 "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{staticClass:"tabs-more",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"closeOtherstabs"}},[e._v(" 关闭其他 ")]),n("el-dropdown-item",{attrs:{command:"closeLefttabs"}},[e._v(" 关闭左侧 ")]),n("el-dropdown-item",{attrs:{command:"closeRighttabs"}},[e._v(" 关闭右侧 ")]),n("el-dropdown-item",{attrs:{command:"closeAlltabs"}},[e._v(" 关闭全部 ")])],1)],1)],1)},De=[],qe=(n("99af"),n("fb6a"),n("45fc"),n("b85c")),Ue=n("2909"),Fe={name:"TabsBar",data:function(){return{affixtabs:[],tabActive:""}},computed:Object(v["a"])({},Object(g["c"])({visitedRoutes:"tabsBar/visitedRoutes",routes:"routes/routes"})),watch:{$route:{handler:function(e){var t=this;this.inittabs(),this.addtabs();var n="";this.visitedRoutes.forEach((function(e,a){e.path===t.$route.path&&(n=e.path)})),this.tabActive=n},immediate:!0}},mounted:function(){},methods:{handleTabRemove:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.visitedRoutes.forEach((function(t,n){e==t.path&&(a=t)})),n.next=3,t.$store.dispatch("tabsBar/delRoute",a);case 3:r=n.sent,i=r.visitedRoutes,t.isActive(a)&&t.toLastTag(i,a);case 6:case"end":return n.stop()}}),n)})))()},handleTabClick:function(e){var t=this.visitedRoutes.filter((function(t,n){if(e.index==n)return t}))[0];if(this.$route.path===t.path)return!1;this.$router.push({path:t.path,query:t.query,fullPath:t.fullPath})},isActive:function(e){return e.path===this.$route.path},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixtabs:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",a=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var r=he.a.resolve(n,e.path);a.push({fullPath:r,path:r,name:e.name,meta:Object(v["a"])({},e.meta)})}if(e.children){var i=t.filterAffixtabs(e.children,e.path);i.length>=1&&(a=[].concat(Object(Ue["a"])(a),Object(Ue["a"])(i)))}})),a},inittabs:function(){var e,t=this.affixtabs=this.filterAffixtabs(this.routes),n=Object(qe["a"])(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.name&&this.$store.dispatch("tabsBar/addVisitedRoute",a)}}catch(r){n.e(r)}finally{n.f()}},addtabs:function(){var e=this.$route.name;return e&&this.$store.dispatch("tabsBar/addVisitedRoute",this.$route),!1},handleCommand:function(e){switch(e){case"refreshRoute":this.refreshRoute();break;case"closeOtherstabs":this.closeOtherstabs();break;case"closeLefttabs":this.closeLefttabs();break;case"closeRighttabs":this.closeRighttabs();break;case"closeAlltabs":this.closeAlltabs();break}},refreshRoute:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$baseEventBus.$emit("reloadrouter-view");case 1:case"end":return t.stop()}}),t)})))()},closeSelectedTag:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("tabsBar/delRoute",e);case 2:a=n.sent,r=a.visitedRoutes,t.isActive(e)&&t.toLastTag(r,e);case 5:case"end":return n.stop()}}),n)})))()},closeOtherstabs:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.toThisTag();case 2:return n=t.sent,t.next=5,e.$store.dispatch("tabsBar/delOthersRoutes",n);case 5:case"end":return t.stop()}}),t)})))()},closeLefttabs:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.toThisTag();case 2:return n=t.sent,t.next=5,e.$store.dispatch("tabsBar/delLeftRoutes",n);case 5:case"end":return t.stop()}}),t)})))()},closeRighttabs:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.toThisTag();case 2:return n=t.sent,t.next=5,e.$store.dispatch("tabsBar/delRightRoutes",n);case 5:case"end":return t.stop()}}),t)})))()},closeAlltabs:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.toThisTag();case 2:return n=t.sent,t.next=5,e.$store.dispatch("tabsBar/delAllRoutes");case 5:if(a=t.sent,r=a.visitedRoutes,!e.affixtabs.some((function(e){return e.path===n.path}))){t.next=9;break}return t.abrupt("return");case 9:e.toLastTag(r,n);case 10:case"end":return t.stop()}}),t)})))()},toLastTag:function(e,t){var n=e.slice(-1)[0];n?this.$router.push(n):this.$router.push("/")},toThisTag:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.visitedRoutes.filter((function(t,n){if(t.path===e.$route.fullPath)return t}))[0],e.$route.path!==n.path&&e.$router.push(n),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})))()}}},ze=Fe,He=(n("488d"),Object(d["a"])(ze,Ve,De,!1,null,"6f53f677",null)),Je=He.exports,We={name:"Layout",components:{NavBar:X,SideBar:Ne,AppMain:ie,TabsBar:Je},data:function(){return{oldLayout:""}},computed:Object(v["a"])(Object(v["a"])({},Object(g["c"])({layout:"settings/layout",tabsBar:"settings/tabsBar",collapse:"settings/collapse",header:"settings/header",device:"settings/device"})),{},{classObj:function(){return{mobile:"mobile"===this.device}}}),beforeMount:function(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},mounted:function(){var e=this;this.oldLayout=this.layout;var t=navigator.userAgent;t.includes("Juejin")&&this.$baseAlert("vue-admin-beautiful不支持在掘金内置浏览器演示，请手动复制以下地址到浏览器中查看http://mpfhrd48.sanxing.uz7.cn/vue-admin-beautiful");var n=this.handleIsMobile();n?(n?this.$store.dispatch("settings/changeLayout","vertical"):this.$store.dispatch("settings/changeLayout",this.oldLayout),this.$store.dispatch("settings/toggleDevice","mobile"),setTimeout((function(){e.$store.dispatch("settings/foldSideBar")}),2e3)):this.$store.dispatch("settings/openSideBar"),this.$nextTick((function(){window.addEventListener("storage",(function(e){e.key!==x["tokenName"]&&null!==e.key||window.location.reload(),e.key===x["tokenName"]&&null===e.value&&window.location.reload()}),!1)}))},methods:Object(v["a"])(Object(v["a"])({},Object(g["b"])({handleFoldSideBar:"settings/foldSideBar"})),{},{handleIsMobile:function(){return document.body.getBoundingClientRect().width-1<992},handleResize:function(){if(!document.hidden){var e=this.handleIsMobile();e?this.$store.dispatch("settings/changeLayout","vertical"):this.$store.dispatch("settings/changeLayout",this.oldLayout),this.$store.dispatch("settings/toggleDevice",e?"mobile":"desktop")}}})},Ge=We,Ke=(n("54ff"),Object(d["a"])(Ge,E,L,!1,null,"accc1284",null)),Ye=Ke.exports,Ze=n("1d0b");a["default"].use(r["a"]);var Qe=[{path:"",redirect:"index",hidden:!0,component:M,children:[{path:"index",name:"Index",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"37f9"))}}]},{path:"/login",component:function(){return n.e("chunk-5e1e2336").then(n.bind(null,"9ed6"))},hidden:!0},{path:"/register",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"d5c2"))},hidden:!0},{path:"/resetPassword",component:function(){return n.e("chunk-34604518").then(n.bind(null,"ffad"))},hidden:!0},{path:"/movies",hidden:!0,component:M,children:[{path:"movieDetail",name:"movieDetail",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"a876"))}},{path:"selectSession",name:"SelectSession",components:{default:function(){return n.e("chunk-221cd114").then(n.bind(null,"4288"))},steps:function(){return n.e("chunk-221cd114").then(n.bind(null,"be8f"))}},meta:{title:"选择场次"}}]},{path:"/401",name:"401",component:function(){return n.e("chunk-34604518").then(n.bind(null,"8a54"))},hidden:!0},{path:"/404",name:"404",component:function(){return n.e("chunk-34604518").then(n.bind(null,"8cdb"))},hidden:!0}],Xe=[{path:"/ticket",redirect:"noRedirect",component:M,meta:{permissions:["customer"]},children:[{path:"seatSelection",name:"SeatSelection",components:{default:function(){return n.e("chunk-221cd114").then(n.bind(null,"75bf"))},steps:function(){return n.e("chunk-221cd114").then(n.bind(null,"be8f"))}},meta:{title:"座位选择",permissions:["customer"]}},{path:"orderGenerated",name:"OrderGenerated",components:{default:function(){return n.e("chunk-221cd114").then(n.bind(null,"56c2"))},steps:function(){return n.e("chunk-221cd114").then(n.bind(null,"be8f"))}},meta:{title:"订单生成",permissions:["customer"]}},{path:"orderFinished/:orderId",name:"orderFinished",components:{default:function(){return n.e("chunk-221cd114").then(n.bind(null,"f9fa"))},steps:function(){return n.e("chunk-221cd114").then(n.bind(null,"be8f"))}},meta:{title:"购票成功",permissions:["customer"]}},{path:"finance/applyText",name:"pay",components:{default:function(){return n.e("chunk-221cd114").then(n.bind(null,"a7d3"))},steps:function(){return n.e("chunk-221cd114").then(n.bind(null,"be8f"))}},meta:{title:"付款",permissions:["customer"]}}]},{path:"/customerCenter",component:M,redirect:"customerCenter/index",meta:{permissions:["customer"]},children:[{path:"index",name:"UserCenterIndex",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"e298"))}},meta:{title:"个人中心",permissions:["customer"],affix:!0}}]},{path:"/customerEvaluation",component:M,redirect:"customerEvaluation/index",meta:{permissions:["customer"]},children:[{path:"index",name:"customerEvaluation",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"582a"))}},meta:{title:"我的评价",permissions:["customer"]}}]},{path:"/customerInfo",component:M,redirect:"customerInfo/index",meta:{permissions:["customer"]},children:[{path:"index",name:"Information",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"5022"))}},meta:{title:"个人信息",permissions:["customer"]}}]},{path:"/customerOrder",component:M,redirect:"noRedirect",meta:{title:"我的订单",permissions:["customer"]},children:[{path:"totalOrder",name:"Order",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"1fdd"))}},beforeEnter:function(e,t,n){e.params.type="全部订单",n()},meta:{title:"全部订单",permissions:["customer"]}},{path:"finish",name:"finish",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"1fdd"))}},beforeEnter:function(e,t,n){e.params.type="已完成",n()},meta:{title:"已完成",permissions:["customer"]}},{path:"waitingPay",name:"waitingPay",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"1fdd"))}},beforeEnter:function(e,t,n){e.params.type="待支付",n()},meta:{title:"待支付",permissions:["customer"]}},{path:"waitingEvaluation",name:"waitingEvaluation",components:{left:Ze["default"],default:function(){return n.e("chunk-221cd114").then(n.bind(null,"1fdd"))}},beforeEnter:function(e,t,n){e.params.type="待评价",n()},meta:{title:"待评价",permissions:["customer"]}}]},{path:"/agent",component:M,redirect:"agent/index",meta:{permissions:["customer"]},children:[{path:"index",name:"index",components:{default:function(){return n.e("chunk-34604518").then(n.bind(null,"1b3e"))}},meta:{title:"客服",permissions:["customer"],affix:!0}}]},{path:"/manager",component:Ye,redirect:"manager/index",children:[{path:"index",name:"managerIndex",component:function(){return n.e("chunk-5e1e2336").then(n.bind(null,"5d3f"))},meta:{title:"首页",icon:"el-icon-location",permissions:["manager","boss"],affix:!0}}]},{path:"/userManagement",component:Ye,redirect:"noRedirect",name:"managerIndex",meta:{icon:"el-icon-location",title:"用户管理",permissions:["manager","boss"]},children:[{path:"customerInfo",name:"customerInfo",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"1632"))},meta:{title:"顾客信息管理",permissions:["manager","boss"]}},{path:"ManagerInfo",name:"ManagerInfo",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"0829"))},meta:{title:"管理员信息管理",permissions:["boss"]}},{path:"personalInfo",name:"personalInfo",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"2d3b"))},meta:{title:"个人信息管理",permissions:["manager","boss"]}}]},{path:"/movieManagement",component:Ye,redirect:"movieManagement/index",meta:{icon:"el-icon-location",title:"影库管理",permissions:["manager","boss"]},children:[{path:"index",name:"MovieManagement",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"9f31"))},meta:{title:"已有电影",permissions:["manager","boss"]}},{path:"showArrange",name:"showArrange",component:function(){return Promise.all([n.e("chunk-221cd114"),n.e("chunk-34604518")]).then(n.bind(null,"da03"))},meta:{title:"已排场电影",permissions:["manager","boss"]}}]},{path:"/evaluationManagement",component:Ye,redirect:"evaluationManagement/index",children:[{path:"index",name:"EvaluationManagement",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"9a7f"))},meta:{icon:"el-icon-location",title:"评价管理",permissions:["manager","boss"]}}]},{path:"/orderManagement",component:Ye,redirect:"orderManagement/index",children:[{path:"index",name:"orderManagement",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"8481"))},meta:{icon:"el-icon-location",title:"订单管理",permissions:["manager","boss"]}}]},{path:"/salesStatistics",component:Ye,redirect:"salesStatistics/index",children:[{path:"index",name:"salesStatistics",component:function(){return n.e("chunk-221cd114").then(n.bind(null,"cf5b"))},meta:{icon:"el-icon-location",title:"销售统计",permissions:["manager","boss"]}}]},{path:"/customerProblems",component:Ye,redirect:"customerProblems/index",children:[{path:"index",name:"customerProblems",component:function(){return n.e("chunk-5e1e2336").then(n.bind(null,"0405"))},meta:{icon:"el-icon-location",title:"顾客问题",permissions:["manager","boss"]}}]},{path:"*",redirect:"/404",hidden:!0}],et=new r["a"]({scrollBehavior:function(){return{y:0}},routes:Qe}),tt=r["a"].prototype.push;function nt(){et.matcher=new r["a"]({scrollBehavior:function(){return{y:0}},routes:Qe}).matcher}r["a"].prototype.push=function(e,t,n){return t||n?tt.call(this,e,t,n):tt.call(this,e).catch((function(e){return e}))};t["c"]=et},a20f:function(e,t,n){"use strict";var a=n("eab7"),r=n.n(a);r.a},a592:function(e,t,n){},a8a6:function(e,t,n){},b775:function(e,t,n){"use strict";n("caad"),n("45fc"),n("d3b7"),n("2532");var a,r=n("a026"),i=n("bc3a"),o=n.n(i),s=n("778c"),c=n("4360"),u=n("4328"),l=n.n(u),d=n("a18c"),f=(n("61f7"),function(e,t){switch(e){case s["invalidCode"]:r["default"].prototype.$baseMessage(t||"后端接口".concat(e,"异常"),"error"),c["a"].dispatch("user/resetAccessToken").catch((function(){})),s["loginInterception"]&&location.reload();break;case s["noPermissionCode"]:d["c"].push({path:"/401"}).catch((function(){}));break;default:r["default"].prototype.$baseMessage(t||"后端接口".concat(e,"异常"),"error");break}}),m=o.a.create({baseURL:s["baseURL"],timeout:s["requestTimeout"],headers:{"Content-Type":s["contentType"]}});m.interceptors.request.use((function(e){return c["a"].getters["user/accessToken"]&&(e.headers[s["tokenName"]]=c["a"].getters["user/accessToken"]),e.data&&"application/x-www-form-urlencoded;charset=UTF-8"===e.headers["Content-Type"]&&(e.data=l.a.stringify(e.data)),s["debounce"].some((function(t){return e.url.includes(t)}))&&(a=r["default"].prototype.$baseLoading()),e}),(function(e){return Promise.reject(e)})),m.interceptors.response.use((function(e){a&&a.close(),console.log(e);var t=e.data;return console.log(t),t}),(function(e){a&&a.close();var t=e.response,n=e.message;if(e.response&&e.response.data){var i=t.status,o=t.data;return f(i,o.msg||n),Promise.reject(e)}var s=e.message;if("Network Error"===s&&(s="后端接口连接异常"),s.includes("timeout")&&(s="后端接口请求超时"),s.includes("Request failed with status code")){var c=s.substr(s.length-3);s="后端接口"+c+"异常"}return r["default"].prototype.$baseMessage(s||"后端接口未知异常","error"),Promise.reject(e)})),t["a"]=m},c1ee:function(e,t,n){},c24f:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));n("96cf");var a=n("1da1"),r=n("b775");n("778c");function i(e){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("sdsdsd"),e.abrupt("return",Object(r["a"])({url:"/login",method:"get",params:t}));case 2:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function s(e){return Object(r["a"])({url:"/userInfo",method:"get"})}function c(e){return Object(r["a"])({url:"/getPhoneCode",method:"get",params:{phone:e}})}function u(){return Object(r["a"])({url:"/logout",method:"post"})}function l(e){return Object(r["a"])({url:"/register",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/resetPassword",method:"put",data:e})}},c32c:function(e,t,n){"use strict";n.r(t);n("4de4"),n("7db0"),n("4160"),n("c975"),n("a434"),n("b0c0"),n("159b");var a=n("2909"),r=(n("96cf"),n("1da1")),i={visitedRoutes:[]},o={visitedRoutes:function(e){return e.visitedRoutes}},s={addVisitedRoute:function(e,t){var n=e.visitedRoutes.find((function(e){return e.path===t.path}));n?t.fullPath!==n.fullPath&&Object.assign(n,t):e.visitedRoutes.push(Object.assign({},t))},delVisitedRoute:function(e,t){e.visitedRoutes.forEach((function(n,a){n.path===t.path&&e.visitedRoutes.splice(a,1)}))},delOthersVisitedRoute:function(e,t){e.visitedRoutes=e.visitedRoutes.filter((function(e){return e.meta.affix||e.path===t.path}))},delLeftVisitedRoute:function(e,t){var n=e.visitedRoutes.length;e.visitedRoutes=e.visitedRoutes.filter((function(a){return a.name===t.name&&(n=e.visitedRoutes.indexOf(a)),a.meta.affix||n<=e.visitedRoutes.indexOf(a)}))},delRightVisitedRoute:function(e,t){var n=e.visitedRoutes.length;e.visitedRoutes=e.visitedRoutes.filter((function(a){return a.name===t.name&&(n=e.visitedRoutes.indexOf(a)),a.meta.affix||n>=e.visitedRoutes.indexOf(a)}))},delAllVisitedRoutes:function(e){e.visitedRoutes=e.visitedRoutes.filter((function(e){return e.meta.affix}))},updateVisitedRoute:function(e,t){e.visitedRoutes.forEach((function(e){e.path===t.path&&(e=Object.assign(e,t))}))}},c={addVisitedRoute:function(e,t){var n=e.commit;n("addVisitedRoute",t)},delRoute:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,i=e.state,n.next=3,r("delVisitedRoute",t);case 3:return n.abrupt("return",{visitedRoutes:Object(a["a"])(i.visitedRoutes)});case 4:case"end":return n.stop()}}),n)})))()},delVisitedRoute:function(e,t){var n=e.commit,r=e.state;return n("delVisitedRoute",t),Object(a["a"])(r.visitedRoutes)},delOthersRoutes:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,i=e.state,n.next=3,r("delOthersVisitedRoute",t);case 3:return n.abrupt("return",{visitedRoutes:Object(a["a"])(i.visitedRoutes)});case 4:case"end":return n.stop()}}),n)})))()},delLeftRoutes:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,i=e.state,n.next=3,r("delLeftVisitedRoute",t);case 3:return n.abrupt("return",{visitedRoutes:Object(a["a"])(i.visitedRoutes)});case 4:case"end":return n.stop()}}),n)})))()},delRightRoutes:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,i=e.state,n.next=3,r("delRightVisitedRoute",t);case 3:return n.abrupt("return",{visitedRoutes:Object(a["a"])(i.visitedRoutes)});case 4:case"end":return n.stop()}}),n)})))()},delOthersVisitedRoute:function(e,t){var n=e.commit,r=e.state;return n("delOthersVisitedRoute",t),Object(a["a"])(r.visitedRoutes)},delLeftVisitedRoute:function(e,t){var n=e.commit,r=e.state;return n("delLeftVisitedRoute",t),Object(a["a"])(r.visitedRoutes)},delRightVisitedRoute:function(e,t){var n=e.commit,r=e.state;return n("delRightVisitedRoute",t),Object(a["a"])(r.visitedRoutes)},delAllRoutes:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,i=e.state,n.next=3,r("delAllVisitedRoutes",t);case 3:return n.abrupt("return",{visitedRoutes:Object(a["a"])(i.visitedRoutes)});case 4:case"end":return n.stop()}}),n)})))()},delAllVisitedRoutes:function(e){var t=e.commit,n=e.state;return t("delAllVisitedRoutes"),Object(a["a"])(n.visitedRoutes)},updateVisitedRoute:function(e,t){var n=e.commit;n("updateVisitedRoute",t)}};t["default"]={state:i,getters:o,mutations:s,actions:c}},c4f6:function(e,t,n){"use strict";var a=n("c1ee"),r=n.n(a);r.a},cc7c:function(e,t,n){"use strict";var a=n("5c79"),r=n.n(a);r.a},d1e5:function(e,t,n){},d307:function(e,t,n){var a={"./routes.js":"66f7","./settings.js":"0781","./tabsBar.js":"c32c","./user.js":"0f9a"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="d307"},d75a:function(e,t,n){},dc40:function(e,t,n){},e051:function(e,t,n){},e754:function(e,t,n){"use strict";var a=n("d75a"),r=n.n(a);r.a},e9df:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("778c");function r(){return a["storage"]?"localStorage"===a["storage"]?(console.log(localStorage.getItem(a["tokenTableName"])),localStorage.getItem(a["tokenTableName"])):"sessionStorage"===a["storage"]?sessionStorage.getItem(a["tokenTableName"]):localStorage.getItem(a["tokenTableName"]):localStorage.getItem(a["tokenTableName"])}function i(e){return a["storage"]?"localStorage"===a["storage"]?localStorage.setItem(a["tokenTableName"],e):"sessionStorage"===a["storage"]?sessionStorage.setItem(a["tokenTableName"],e):localStorage.setItem(a["tokenTableName"],e):localStorage.setItem(a["tokenTableName"],e)}function o(){return a["storage"]?"localStorage"===a["storage"]?localStorage.removeItem(a["tokenTableName"]):"sessionStorage"===a["storage"]?sessionStorage.clear():localStorage.removeItem(a["tokenTableName"]):localStorage.removeItem(a["tokenTableName"])}},eab7:function(e,t,n){},ebba:function(e,t,n){},f2f3:function(e,t,n){},f38d:function(e,t,n){"use strict";var a=n("ebba"),r=n.n(a);r.a},fcaa:function(e,t){var n={publicPath:"./",outputDir:"Cinema",assetsDir:"static",baseURL:"http://8.131.77.164:8089/CinemaData",title:"毅购",devPort:"80",progressBar:!0,routesWhiteList:["/login","/register","/404","/401","/index","/resetPassword","/movies/selectSession","/movies/seatSelection","/movies/movieDetail"],tokenName:"accessToken",tokenTableName:"Cinema-Manager",storage:"sessionStorage",recordRoute:!0,errorLog:["development"],loginInterception:!0,uniqueOpened:!0,debounce:["doEdit"]};e.exports=n},fda3:function(e,t,n){"use strict";var a=n("dc40"),r=n.n(a);r.a}});
//# sourceMappingURL=app.7374a4ae.js.map